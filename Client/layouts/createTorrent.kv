# START CREATE TORRENT
<CreateTorrent>
	canvas:
		Color:
			rgba: 0.45, 0.45, 0.45, 1
		Rectangle:
			size: self.size
			pos: self.pos
	orientation: 'vertical'
	anchor_y: 'top'
	name: "create_torrent"
	name_label: name_label
	
	BoxLayout:
		# anchor_y: 'top'
		orientation: 'vertical'
		# pos_hint: {'top':1}
		GridLayout:
			cols: 2
			rows: 1
			size_hint_y: None
			height: dp(96)
			padding: dp(12)
			spacing: dp(24)
			pos_hint: {'top':1}
			Label:
				id: name_label
				text: 'Selected file appears here'
				pos_hint: {'left':1, 'top':1}
				# spacing: (20,20)
				# size_hint_y: None
				# halign: 'left'

			Button:
				id: choose_file
				text: 'Choose File'
				pos_hint: {'right':1, 'top':1}
				spacing: (20,20)
				size_hint: None, None
				height: dp(96)
				width: dp(300)
				# padding: dp(12)
				# spacing: dp(24)
				on_press: root.choose_file()
		GridLayout:
			cols: 2
			rows: 1
			size_hint_y: None
			height: dp(96)
			padding: dp(12)
			spacing: dp(24)
			# pos_hint: {'top':1}
			Button:
				text: 'Create Torrent'
				on_press: root.create_torrent()
			Button:
				text: 'Back'
				on_press:
					root.manager.current = 'home'
					root.manager.transition.direction = 'right'
                
		BoxLayout:
			size_hint_y: None
			height: dp(96)
			padding: dp(5)
			spacing: dp(5)
			TextInput:
				id: piece_size_input
				size_hint_x: 1.5
				multiline:False
				hint_text: 'Enter piece size in bytes'
				on_text_validate: root.set_piece_size(piece_size_input.text)
				padding: dp(10), dp(10), 0, 0
			Button:
				text: 'Enter piece size in bytes'
				on_press: root.set_piece_size(piece_size_input.text)
# END CREATE TORRENT